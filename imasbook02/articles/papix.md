# ｢アイドルマスター シンデレラガールズ｣のデータに対するスリーレターコードを利用したユニークなインデックスの提案
<p class="right">著:遠山賢寿</p>

## はじめに

｢アイドルマスター シンデレラガールズ｣は, バンダイナムコエンターテインメントとCygamesが開発/運営するソーシャルゲームである.
2011年にリリースされて以降, 2014年には1stライブ｢THE IDOLM@STER CINDERELLA GIRLS 1stLIVE WONDERFUL M@GIC!!｣が開催され, また2015年にはアニメ化及びスマートフォン向けの音楽ゲーム｢アイドルマスター シンデレラガールズ スターライトステージ｣がリリース, そして2016年にはVR(仮想現実)に対応した｢アイドルマスター シンデレラガールズ ビューイングレボリューション｣が発売されるなどの歴史を経て, 2019年現在でも新規キャラクターの追加が行われるなど, 多くのファンに愛されているコンテンツの1つである.

近年, この｢アイドルマスター シンデレラガールズ｣について, キャラクターや楽曲などのデータを用いて, 様々な視点で研究, 分析を行う事例が共有されている. 一方で, このような研究や分析を進めるにあたって, 各種データに対するユニークかつ理解しやすいインデックスの構築という課題が存在する.
ユニット｢Triad Primus｣は, キャラクター｢渋谷凛｣, ｢北条加蓮｣, ｢神谷奈緒｣によって構成される... といった, ｢アイドルマスター シンデレラガールズ｣に存在する様々なデータの間についての関係性を示すにあたって, ユニークなインデックスは必須である. 先程の例においては, ｢ユニット｣というデータに紐付けられた, そのユニットに属するキャラクター名である｢渋谷凛｣, ｢北条加蓮｣, ｢神谷奈緒｣が, それぞれ｢キャラクター｣というデータにおけるインデックスとなる.

先の例のように, 自然言語を利用したインデックスはデータを利用したり閲覧する場合には便利である. しかし, 表記揺れや誤表記について考慮しなければならないという課題が存在する.
一方, このような問題を防ぐために, ユニークな整数値を使ってインデックスとする方法もある. しかしこの場合, 自然言語をインデックスとした場合に比べて, インデックスとなる数値のみを人間が閲覧した場合に, 元のデータを推測することが困難であり, 若干の不便がある.
また現在, ｢アイドルマスター シンデレラガールズ｣180名以上を越える登場キャラクターとそれらの組み合わせによるユニット, そして2018年12月末時点で211曲が公開されている楽曲[1]といった膨大なデータに対して, 改めて何かしらの規則に基づいて整数値のインデックスを割り当てなければならない.

<footer>\*1 : 天蛾 ｢アイドルマスターのオリジナル曲数を数えてみた・2018年12月｣ 天さんは今日もブルー, 2019年
http://blog.bellmega.blue/post/2143</footer>

そこで本稿では, 自然言語を利用したインデックスと整数値を利用したインデックスの折衷案として, ｢アイドルマスター シンデレラガールズ｣のキャラクターや楽曲などのデータに対して, スリーレターコードを利用してユニークなインデックスを構築する手法を提案する.
スリーレターコードを利用することで, 自然言語のように表記揺れによる誤入力を防ぐことを狙う. また, スリーレターコードを利用したインデックスでは, その表現をデータのユニークな自動言語による表現を利用して構築するので, インデックスとして整数値を利用する場合と比べ, 人間が若干推測しやすい表現となり, またその割当について考慮しなければならない規則も少なくなる.

## 現状の課題

近年, ｢アイドルマスター シンデレラガールズ｣を含む｢アイドルマスター｣というコンテンツにおけるキャラクターやユニット, 楽曲とその歌詞といったデータを用いた研究, 考察が活発に行われている.
先行事例として, 楽曲の歌詞を解析した結果とその考察[2], スコアを用いてライブの予習セットリストを自動生成する試み[3]などが発表されている.

<footer>\*2 : きりだるま ｢アイマス楽曲を歌詞解析してみた話｣ 週刊IM@Study 2018/12号, 2018年, pp.3-12
<footer>\*3 : 遠山賢寿 ｢スコアを用いたライブの予習セットリスト自動生成の試み｣ 週刊IM@Study 2018/12号, 2018年, pp.41-51

このような研究や考察を行うにあたって, コンテンツに関するキャラクター, ユニット, 楽曲といったデータを表現する, ユニークなインデックスを構築することで, データの表記揺れを防ぐことができ, またデータ間の同一性の検証も容易となる.
一方で現状, ｢アイドルマスター シンデレラガールズ｣の各種データに対するユニークなインデックスはデファクトスタンダードとなる規定が存在せず, 自然言語を利用したインデックスが用いられることが多い.
ここでは, 自然言語を利用したインデックスと, 一般的にユニークなインデックスを構築する際によく用いられる整数値を利用したインデックスについて, その実現手法と課題について述べる.

### 自然言語を利用したインデックス

｢アイドルマスター シンデレラガールズ｣の各種データは, それぞれ自然言語によるユニークなインデックスを持っている. 例えばキャラクターで言えば, ｢渋谷凛｣, ｢北条加蓮｣, ｢神谷奈緒｣というキャラクターの名前は, それぞれ｢アイドルマスター シンデレラガールズのキャラクター｣というデータの中でユニークであり, これらの名前を利用することで一意に表現することができる.

自然言語を利用したインデックスの問題としては, 表記揺れ(表記間違い)が起こりやすい点である. 例えば｢楽曲｣のデータにおいて｢ハイファイ☆デイズ｣というデータを登録したとき,これを参照するために｢ハイファイ★デイズ｣という誤表記("☆"か"★"かの違い)を利用してしまうと, 正しく元の｢ハイファイ☆デイズ｣のデータを参照することができない.
同様の問題として, "!"と"！"で異なる｢Star!!｣と｢Star！！｣, "~"と"〜"で異なる｢ススメ☆オトメ ~jewel parade~｣と｢ススメ☆オトメ 〜jewel parade〜｣などが考えられるだろう.

### 整数値を利用したインデックス

自然言語を利用せず, データとは相関のないユニークな整数値をデータに割り当てることでインデックスを構築することもできる. この整数値を識別子(ID, identifier)と呼ぶ.
例として, 楽曲のデータにおいて｢Snow Wings｣は識別子100, ｢Tulip｣は識別子101... のように, 重複しない整数値を割り当てることで, ユニークなインデックスを構築することができる.

整数値を利用したインデックスは, 自然言語を利用したインデックスと比べて, 0から9までの数字のみを利用して構築するため, 表記揺れは起こりにくい.
一方で, 自然言語を利用したインデックスと比べて, インデックスの値からデータの実態を人間が推測することは困難である. 例えば先の楽曲データの例に対して, ｢100｣という識別子が｢Snow Wings｣という楽曲のデータを指すことを人間が瞬時に推測するには, この対応を暗記しなければならない.

更に, 整数値を利用したインデックスは, データに対応する識別子を定めるのが容易ではない.
例として, 識別子を定めるにあたり, キャラクターは登場順, 楽曲は発売順で, 1から開始して1つずつ大きい整数を割り当てるという規約を定めたとする.
しかしその場合, 例えば同日に登場したキャラクター, 同日に発売された楽曲の場合, そのどちらをより小さい値にするかについては別途考慮しなければならない.
また, 万が一予め定めた規約に沿わない識別子を付与した場合, その変更は困難であることも考慮しなければならない.

## スリーレターコードを利用したユニークなインデックス

自然言語を利用したインデックスと整数値を利用したインデックスの折衷案として, 本稿ではスリーレターコードを利用したインデックスを提案する.

### スリーレターコード

スリーレターコードは, アルファベットのうち任意の3文字を組み合わせた略記法である. AからZまで26文字存在するアルファベットを3つ組み合わせる表記法なので, スリーレターコードを利用すれば12,167個のデータについて, ユニークなインデックスを与えることができる.

身近なスリーレターコードとしては, 国際航空運送機関(IATA)が定める空港コードが有名である. 例えば, ある任意の空港を示す時, 自然言語を使った表現では様々な表現が可能となり, したがって先に述べた自然言語を利用しあtインデックスと同じように, 表記揺れを考慮しなければならない. 例えば｢伊丹空港｣は, 航空法上では｢大阪国際空港｣と呼ばれており, またこれらを英語表記した｢Itami Airport｣または｢Osaka International Airport｣も利用される. 航空に関連するシステムを構築するにあたって, このような自然言語による表現をインデックスとすると, これらの表記揺れに対応しなければならない. そこで, 空港の名前や立地する都市, 近隣の都市名などを利用したスリーレターコードが利用される. IATAが定めた空港コードの例として, 東京国際空港の｢HND｣, 大阪国際空港(伊丹空港)の｢ITM｣などが有名である.
また, 近年では航空業界だけでなく, 鉄道業界においても, 様々な利用者に対して理解しやすい駅名表示を実現することを目的に, 特定の駅に対してスリーレターコードを指定する施策がJR東日本によって実施されている. JR東日本では, 新宿駅に｢SJK｣, 渋谷駅に｢SBY｣, 秋葉原駅に｢AKB｣といった形でスリーレターコードを付与している.

### スリーレターコードを利用した表記例

以下, ｢アイドルマスター シンデレラガールズ｣に登場するキャラクター及び楽曲について, それぞれスリーレターレコードを付与した例を紹介する.

まずはキャラクターにスリーレターコードを割り当てた例である. ここでは, 基本的には各キャラクターの名前を用いてスリーレターコードを構築することとして, ｢渋谷凛｣の｢RIN｣, ｢本田未央｣の｢MIO｣など, 名前のアルファベット表記が3文字のキャラクターについてはこれをそのまま利用することとした. これを満たさない場合, ｢北条加蓮｣であれば｢KaReN｣, ｢島村卯月｣であれば｢UZuKi｣のように, 子音を中心に3文字を選択する形でスリーレターコードを割り当てることとした.
なお名前が二文字の場合, 例えば｢東郷あい｣の場合, ｢AI｣のうち1文字を重ねて｢AII｣のように表記するなどの方法がある.

キャラクター名 | スリーレターコードの例
-- | --
渋谷凛   | RIN
北条加蓮 | KRN
神谷奈緒 | NAO
島村卯月 | UZK
本田未央 | MIO

続いて, 楽曲にスリーレターコードを割り当てた例である.
ここでは, 英語タイトルの楽曲については各単語の先頭文字を中心に選択することとした(｢Stage Bye Stage｣, ｢Trinity FielD｣).
日本語タイトルの楽曲については, ｢お願い! シンデレラ｣であれば｢Onegai CInderella｣, ｢流れ星キセキ｣であれば｢Nagareboshi KiSeki｣のように, タイトルを単語ごとに区切ったものの先頭文字を, 子音を中心に選択する形で決定することとした.

楽曲名 | スリーレターコードの例
-- | --
GOIN'!!!           | GOI
Stage Bye Stage    | SBS
Trinity Field      | TFD
always             | ALW
お願い! シンデレラ | OCI
流れ星キセキ       | NKS

最後に, ここまで紹介したスリーレターコードを利用して, ｢THE IDOLM@STER CINDERELLA GIRLS 6thLIVE MERRY-GO-ROUNDOME!!!｣におけるナゴヤドーム公演2日目の終盤6曲を, スリーレターコードを利用して表現した例を紹介する. 例として利用する実際の楽曲, 及び出演者が演じるキャラクター名は以下のとおりである.

曲名 | キャラクター名
-- | --
Trinity Field      | 渋谷凛, 北条加蓮, 神谷奈緒
流れ星キセキ       | 島村卯月, 渋谷凛, 本田未央
always             | 全員
Stage Bye Stage    | 全員
GOIN'!!!           | 全員
お願い! シンデレラ | 全員

これを, 例として挙げたスリーレターコードで表現すると, 以下のようになる.

曲名 | キャラクター名
-- | --
TFD | RIN, KRN, NAO
NKS | UZK, RIN, MIO
ALW | ALL
SBS | ALL
GOI | ALL
OCI | ALL

このように, スリーレターコードを利用してユニークなインデックスを用いることで, 自然言語を利用したインデックスとは異なり, インデックスを表す文字列の表記揺れを防ぐことが出来た.
また, 整数値を利用したインデックスと異なり, インデックスを表す文字列がデータの自然言語表現を参考にして定められているため, 人間がインデックスからそれを指すデータを推測することが若干容易となった.

## 今後の展望

今回は, ｢アイドルマスター シンデレラガールズ｣についてスリーレターレコードを利用したユニークなインデックスの構築について考察したが, 今後, これを｢アイドルマスター｣というコンテンツ全体に広げることも考えられる. その場合, より自然なコードを定義できるよう, スリーレターコードではなくフォーレターコードを採用するという選択肢がある.
フォーレターコードを利用する場合, AからZまでの全26文字を4文字組み合わせることができるので, 279,841個のデータに対してユニークなインデックスを付与することができる.

## まとめ

｢アイドルマスター シンデレラガールズ｣の各種データを表現するためのユニークなインデックスとして, スリーレターコードを利用した例を紹介し, ｢THE IDOLM@STER CINDERELLA GIRLS 6thLIVE MERRY-GO-ROUNDOME!!!｣におけるナゴヤドーム公演2日目の終盤6曲について, 実際にスリーレターコード表現を利用して表記した例を紹介した.
今後の研究や考察における共通言語となるよう, 本稿で提案したスリーレターコードによるキャラクター, ユニット, 楽曲それぞれのデータについてのインデックスについて, 将来的にGitHubで公開する予定である.
